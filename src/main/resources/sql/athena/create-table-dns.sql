CREATE EXTERNAL TABLE IF NOT EXISTS ${DATABASE_NAME}.${TABLE_NAME}(
  id int,
  time bigint,
  qname string,
  domainname string,
  frag int,
  ttl int,
  ipv int,
  prot int,
  src string,
  srcp int,
  dst string,
  dstp int,
  dns_len int,
  aa boolean,
  tc boolean,
  rd boolean,
  ra boolean,
  z boolean,
  ad boolean,
  cd boolean,
  ancount int,
  arcount int,
  nscount int,
  qdcount int,
  opcode int,
  rcode int,
  qtype int,
  qclass int,
  country string,
  asn string,
  asn_organisation string,
  edns_udp int,
  edns_version int,
  edns_do boolean,
  edns_ping boolean,
  edns_nsid string,
  edns_dnssec_dau string,
  edns_dnssec_dhu string,
  edns_dnssec_n3u string,
  edns_client_subnet string,
  edns_other string,
  edns_client_subnet_asn string,
  edns_client_subnet_asn_organisation string,
  edns_client_subnet_country string,
  labels int,
  resp_frag int,
  proc_time int,
  server_location string,
  query_ts TIMESTAMP,
  edns_padding int,
  pcap_file string,
  edns_keytag_count int,
  edns_keytag_list string,
  q_tc boolean,
  q_ra boolean,
  q_ad boolean,
  pub_resolver string,
  req_len int,
  res_len int,
  tcp_hs_rtt int,
  res_ip_df boolean,
  req_ip_df boolean
) PARTITIONED BY (year int, month int, day int,server string)
ROW FORMAT SERDE
'org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe'
WITH SERDEPROPERTIES (
    'serialization.format' = '1' )
LOCATION
   '${TABLE_LOC}'
TBLPROPERTIES ('has_encrypted_data'='${ENCRYPTED}')
